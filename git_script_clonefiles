
cd ~
cd linux2
git pull origin main
cp /home/ubuntu/linux2/scripts/git_script_clonefiles /home/ubuntu/scripts/
cd /home/ubuntu/scripts && ./git_script_clonefiles
cp /home/ubuntu/linux2/app.py /home/ubuntu/lemp-app
cp -r /home/ubuntu/linux2/templates /home/ubuntu/lemp-app

    echo "lemp-app kopiointi"
sudo cp /home/ubuntu/linux2/lemp-app /etc/nginx/sites-available
sudo cp /home/ubuntu/linux2/lemp-app.service /etc/systemd/system/

    echo "streamlitapp kopiointi"
cp /home/ubuntu/linux2/requirements.txt /home/ubuntu/streamlitapp/.streamlit
sudo cp /home/ubuntu/linux2/streamlit.service /etc/systemd/system/
cp /home/ubuntu/linux2/streamlitapp.py /home/ubuntu/streamlitapp/
cp /home/ubuntu/linux2/config.toml /home/ubuntu/streamlitapp/.streamlit/

    echo "cron_assignment weather kopioint"
cp /home/ubuntu/linux2/cron_assignment/fetch_weather.py /home/ubuntu/cron_assignment/
cp /home/ubuntu/linux2/cron_assignment/fetch_weather.sh /home/ubuntu/cron_assignment/
cp /home/ubuntu/linux2/cron_assignment/requirements.txt /home/ubuntu/cron_assignment/

    echo "cron_assignment coincourse kopiointi"
cp /home/ubuntu/linux2/cron_assignment/fetch_coincourse.py /home/ubuntu/cron_assignment/
cp /home/ubuntu/linux2/cron_assignment/fetch_coincourse.sh /home/ubuntu/cron_assignment/


    echo "streamlit-coinapp kopiointi"
cp /home/ubuntu/linux2/requirements.txt /home/ubuntu/streamlit-coinapp/.streamlit/
sudo cp /home/ubuntu/linux2/streamlit-coinapp/coinapp.service /etc/systemd/system/ 
cp /home/ubuntu/linux2/streamlit-coinapp/config.toml /home/ubuntu/streamlit-coinapp/.streamlit/
cp /home/ubuntu/linux2/streamlit-coinapp/streamlit-coinapp.py /home/ubuntu/streamlit-coinapp/

echo "Files copied"
cd
sudo systemctl reload nginx
sudo systemctl daemon-reload
sudo systemctl restart lemp-app
sudo systemctl restart streamlit
sudo systemctl restart coinapp
echo "Service restarted"